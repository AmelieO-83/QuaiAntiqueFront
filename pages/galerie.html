<div class="hero-scene text-center text-white">
  <div class="hero-scene-content">
    <h1>Galerie</h1>
  </div>
</div>

<div class="container my-4">
  <!-- CTA admin -->
  <div class="text-center mb-3" data-show="admin">
    <button
      type="button"
      class="btn btn-primary"
      data-bs-toggle="modal"
      data-bs-target="#EditionPhotoModal"
    >
      Ajouter une photo
    </button>
  </div>

  <!-- Grille d’images (remplie en JS) -->
  <div class="row row-cols-2 row-cols-lg-3 g-3"></div>

  <div class="text-center mt-4">
    <a href="/reserver" class="btn btn-primary" data-show="connected"
      >Réserver</a
    >
  </div>
</div>

<!-- Modal édition / ajout -->
<div
  class="modal fade"
  id="EditionPhotoModal"
  tabindex="-1"
  aria-labelledby="EditionPhotoModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <form id="photoForm">
        <div class="modal-header">
          <h2 class="modal-title fs-5" id="EditionPhotoModalLabel">
            Ajouter une photo
          </h2>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Fermer"
          ></button>
        </div>
        <div class="modal-body">
          <div class="mb-3">
            <label for="NamePhotoInput" class="form-label">Titre</label>
            <input
              type="text"
              class="form-control"
              id="NamePhotoInput"
              name="title"
              placeholder="Lasagnes à la bolognese"
            />
          </div>
          <div class="mb-3">
            <label for="ImageInput" class="form-label">Image</label>
            <input
              type="file"
              class="form-control"
              id="ImageInput"
              name="image"
              accept="image/*"
            />
          </div>
          <div class="mb-3">
            <label for="RestaurantSelect" class="form-label">Restaurant</label>
            <select
              class="form-select"
              id="RestaurantSelect"
              name="restaurantId"
              required
            >
              <option value="" selected disabled>— Sélectionner —</option>
            </select>
            <div class="form-text">Choisis un restaurant existant.</div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="submit" class="btn btn-primary" id="SavePhotoBtn">
            Enregistrer
          </button>
          <button
            type="button"
            class="btn btn-secondary"
            data-bs-dismiss="modal"
          >
            Annuler
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- Modal suppression -->
<div
  class="modal fade"
  id="DeletePhotoModal"
  tabindex="-1"
  aria-labelledby="DeletePhotoModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <form id="deleteForm">
        <div class="modal-header">
          <h2 class="modal-title fs-5" id="DeletePhotoModalLabel">
            Supprimer la photo
          </h2>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Fermer"
          ></button>
        </div>
        <div class="modal-body">
          <p class="mb-2">Voulez-vous vraiment supprimer cette photo ?</p>
          <div class="d-flex gap-3 align-items-center">
            <img
              id="DeletePreviewImg"
              src=""
              class="rounded"
              style="width: 96px; height: 64px; object-fit: cover"
              alt="aperçu"
            />
            <span id="DeletePreviewTitle" class="fw-semibold"></span>
          </div>
          <input type="hidden" id="DeleteIdInput" />
        </div>
        <div class="modal-footer">
          <button type="submit" class="btn btn-danger">Supprimer</button>
          <button
            type="button"
            class="btn btn-secondary"
            data-bs-dismiss="modal"
          >
            Annuler
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- JS de la page -->
<script type="module" src="/js/galerie.js"></script>
